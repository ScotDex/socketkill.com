<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>S.K // SYSTEM_STATUS</title>
    <style>
        body { background: #0d1117; color: #3fb950; font-family: monospace; padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .stat-card { border: 1px solid #3fb950; padding: 15px; border-radius: 4px; background: rgba(63, 185, 80, 0.05); }
        .value { font-size: 1.5rem; font-weight: bold; color: #fff; display: block; }
        .label { font-size: 0.75rem; opacity: 0.7; text-transform: uppercase; }
        .status-up { color: #3fb950; }
        .status-down { color: #f85149; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body>
    <h2>[ SOCKET.KILL // CORE_HEALTH ]</h2>
    <div class="grid">
        <div class="stat-card">
            <span class="label">System Status</span>
            <span id="status" class="value">LOADING...</span>
        </div>
        <div class="stat-card">
            <span class="label">Active Ingest Seq</span>
            <span id="sequence" class="value">---</span>
        </div>
        <div class="stat-card">
            <span class="label">Memory (RSS)</span>
            <span id="rss" class="value">---</span>
        </div>
        <div class="stat-card">
            <span class="label">Connected Pilots</span>
            <span id="clients" class="value">---</span>
        </div>
    </div>

    <script>
        async function updateHealth() {
            try {
                const res = await fetch('/api/health');
                const data = await res.json();
                
                document.getElementById('status').innerText = data.status;
                document.getElementById('status').className = data.status === 'OPERATIONAL' ? 'value status-up' : 'value status-down';
                document.getElementById('sequence').innerText = data.system.sequence;
                document.getElementById('rss').innerText = data.system.rss;
                document.getElementById('clients').innerText = data.stats.activeClients;
            } catch (e) {
                document.getElementById('status').innerText = 'OFFLINE';
                document.getElementById('status').className = 'value status-down';
            }
        }
        setInterval(updateHealth, 5000);
        updateHealth();
    </script>
</body>
</html>